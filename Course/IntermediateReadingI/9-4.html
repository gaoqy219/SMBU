<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>有趣的头发</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }
        body {
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.8;
            color: #333;
            font-size: 16px; /* 基础字体大小 */
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: #2c3e50;
        }
        .font-control {
            text-align: center;
            margin-bottom: 20px;
        }
        .font-control button {
            padding: 8px 16px;
            margin: 0 8px;
            border: 1px solid #e74c3c;
            border-radius: 4px;
            background: #fff;
            color: #e74c3c;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }
        .font-control button:hover {
            background: #e74c3c;
            color: #fff;
        }
        .article {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 8px;
        }
        .vocab {
            color: #e74c3c;
            cursor: pointer;
            text-decoration: underline;
        }
        /* 习题样式 */
        .exercise {
            margin: 40px 0;
            padding: 20px;
            border: 1px solid #eee;
            border-radius: 8px;
        }
        .exercise-title {
            font-size: 1.1em;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: bold;
        }
        /* 填空题样式 */
        .fill-blank {
            margin: 18px 0;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
        }
        .fill-label {
            margin-right: 10px;
            flex-shrink: 0;
            width: 120px;
        }
        .fill-input {
            padding: 6px 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 100px;
            margin-right: 15px;
            font-size: 1em;
            flex-shrink: 0;
        }
        .fill-unit {
            margin-right: 20px;
            flex-shrink: 0;
        }
        /* 提交按钮样式 */
        .submit-btn {
            display: block;
            margin: 30px auto;
            padding: 12px 24px;
            background: #e74c3c;
            color: #fff;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 18px;
            transition: background 0.3s;
        }
        .submit-btn:hover {
            background: #c0392b;
        }
        /* 结果显示样式 */
        .result {
            margin-top: 30px;
            padding: 20px;
            border-radius: 8px;
            background: #f8f9fa;
            display: none;
        }
        .score {
            text-align: center;
            font-size: 1.2em;
            color: #2c3e50;
            margin-bottom: 25px;
            font-weight: bold;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .correct-answer {
            color: #27ae60;
            font-weight: bold;
        }
        .answer-item {
            margin-bottom: 10px;
        }
        /* 弹窗样式 */
        .popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 85%;
            max-width: 550px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
            padding: 25px;
            z-index: 999;
            display: none;
        }
        .popup h3 {
            margin-bottom: 15px;
            color: #e74c3c;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        .popup p {
            margin-bottom: 10px;
            font-size: 1em;
            line-height: 1.6;
        }
        .popup .lang-label {
            font-weight: bold;
            color: #2c3e50;
            display: inline-block;
            width: 60px;
        }
        .popup .close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 24px;
            cursor: pointer;
            color: #999;
            transition: color 0.2s;
        }
        .popup .close:hover {
            color: #e74c3c;
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 998;
            display: none;
        }
    </style>
</head>
<body>
    <h1>有趣的头发</h1>
    <div class="font-control">
        <button id="font-small">- 缩小字体</button>
        <button id="font-normal">默认字体</button>
        <button id="font-large">放大字体 +</button>
    </div>

    <!-- 文章部分 -->
    <div class="article" id="article">
        一根头发可以<span class="vocab" data-word="承受">承受</span>100克（gram）重量而不断。这就是说你头上12万根头发在<span class="vocab" data-word="理论上">理论上</span>可同时承受12吨的重量。
        <br><br>
        然而，请不要在家里<span class="vocab" data-word="尝试">尝试</span>做这样的实验，因为长在你头上的头发会受到严重<span class="vocab" data-word="损坏">损坏</span>——你<span class="vocab" data-word="头皮">头皮</span>表面下的发根会特别快地<span class="vocab" data-word="脱落">脱落</span>，所以，这项试验只能在剪下的头发上做。
        <br><br>
        头发可以<span class="vocab" data-word="吸收">吸收</span>它自己重量45%的水分，它会变大，并且<span class="vocab" data-word="直径">直径</span>增大15%。每天，我们<span class="vocab" data-word="平均">平均</span>要掉50-100根头发。这就是说，一年平均有3万根头发要离开我们的身体，在别处开始它们新的<span class="vocab" data-word="历程">历程</span>——在我们的毛衣上或我们的汤里。
        <br><br>
        如果你一直不断地拉湿发，它能被拉长50%，那就是你在雨天不能保持你的<span class="vocab" data-word="发型">发型</span>的原因！亚洲人的头发需要大约100克的拉力才可<span class="vocab" data-word="折断">折断</span>，一直不断地拉，可以拉长55%。欧洲人的头发只需80克的拉力就可折断，一直不断地拉，可拉长50%。非洲人的头发只要60克的拉力便可折断，因为它只能拉长40%。
    </div>

    <!-- 习题部分 -->
    <div class="exercise" id="exercise">
        <h3 class="exercise-title">根据文章内容填空</h3>
        <div class="question-group" id="fill-group">
            <div class="fill-blank">
                <span class="fill-label">1. 一根头发可以承受</span>
                <input type="text" class="fill-input" id="fill-1" placeholder="请填数字">
                <span class="fill-unit">克</span>
                <span class="fill-label">的重量。</span>
                <span class="correct-answer" id="fill-1-ans"></span>
            </div>
            <div class="fill-blank">
                <span class="fill-label">2. 你头上有</span>
                <input type="text" class="fill-input" id="fill-2" placeholder="请填数字">
                <span class="fill-unit">万根</span>
                <span class="fill-label">头发。</span>
                <span class="correct-answer" id="fill-2-ans"></span>
            </div>
            <div class="fill-blank">
                <span class="fill-label">3. 头发可以吸收它自身重量</span>
                <input type="text" class="fill-input" id="fill-3" placeholder="请填百分比">
                <span class="fill-unit">%</span>
                <span class="fill-label">的水分。</span>
                <span class="correct-answer" id="fill-3-ans"></span>
            </div>
            <div class="fill-blank">
                <span class="fill-label">4. 一年平均有</span>
                <input type="text" class="fill-input" id="fill-4" placeholder="请填数字">
                <span class="fill-unit">万根</span>
                <span class="fill-label">头发要离开我们的身体。</span>
                <span class="correct-answer" id="fill-4-ans"></span>
            </div>
            <div class="fill-blank">
                <span class="fill-label">5. 亚洲人的头发可以拉长</span>
                <input type="text" class="fill-input" id="fill-5" placeholder="请填百分比">
                <span class="fill-unit">%</span>
                <span class="correct-answer" id="fill-5-ans"></span>
            </div>
            <div class="fill-blank">
                <span class="fill-label">6. 欧洲人的头发可拉长</span>
                <input type="text" class="fill-input" id="fill-6" placeholder="请填百分比">
                <span class="fill-unit">%</span>
                <span class="correct-answer" id="fill-6-ans"></span>
            </div>
            <div class="fill-blank">
                <span class="fill-label">7. 非洲人的头发可拉长</span>
                <input type="text" class="fill-input" id="fill-7" placeholder="请填百分比">
                <span class="fill-unit">%</span>
                <span class="correct-answer" id="fill-7-ans"></span>
            </div>
        </div>

        <button class="submit-btn" id="submit-btn">提交答案并查看结果</button>

        <div class="result" id="result">
            <div class="score" id="score"></div>
            <div id="answer-details">
                <!-- 正确答案详情动态生成 -->
            </div>
        </div>
    </div>

    <!-- 词汇弹窗 -->
    <div class="overlay" id="vocab-overlay"></div>
    <div class="popup" id="vocab-popup">
        <div class="close" id="vocab-close">×</div>
        <h3 id="vocabName"></h3>
        <p><span class="lang-label">拼音：</span><span id="vocabPinyin"></span></p>
        <p><span class="lang-label">中文解释：</span><span id="vocabCnExplain"></span></p>
        <p><span class="lang-label">英文翻译：</span><span id="vocabEn"></span></p>
        <p><span class="lang-label">俄文翻译：</span><span id="vocabRu"></span></p>
    </div>

    <script>
        // 一、词汇数据字典（中、英、俄三语）
        const vocabData = {
            "承受": { 
                pinyin: "chéngshòu", 
                cnExplain: "接受、承担（重量、压力、痛苦等）", 
                en: "bear; endure", 
                ru: "выдерживать; переносить" 
            },
            "理论上": { 
                pinyin: "lǐlùn shàng", 
                cnExplain: "从理论的角度（而非实际情况）", 
                en: "theoretically", 
                ru: "теоретически" 
            },
            "尝试": { 
                pinyin: "chángshì", 
                cnExplain: "试一试，试验", 
                en: "try; attempt", 
                ru: "попытаться; попытка" 
            },
            "损坏": { 
                pinyin: "sǔnhuài", 
                cnExplain: "使事物受到破坏、损伤", 
                en: "damage; harm", 
                ru: "повредить; навредить" 
            },
            "头皮": { 
                pinyin: "tóupí", 
                cnExplain: "头的皮肤", 
                en: "scalp", 
                ru: "шерсть головы" 
            },
            "脱落": { 
                pinyin: "tuōluò", 
                cnExplain: "（毛发、表皮等）掉下、脱落", 
                en: "fall off; shed", 
                ru: "отпадать; линьзовать" 
            },
            "吸收": { 
                pinyin: "xīshōu", 
                cnExplain: "把外界的物质吸到内部", 
                en: "absorb; take in", 
                ru: "поглощать; впитывать" 
            },
            "直径": { 
                pinyin: "zhíjìng", 
                cnExplain: "通过圆心连接圆上两点的线段长度", 
                en: "diameter", 
                ru: "диаметр" 
            },
            "平均": { 
                pinyin: "píngjūn", 
                cnExplain: "把总数按份儿均匀计算", 
                en: "average", 
                ru: "в среднем" 
            },
            "历程": { 
                pinyin: "lìchéng", 
                cnExplain: "经历的过程", 
                en: "course; journey", 
                ru: "путь; путешествие" 
            },
            "发型": { 
                pinyin: "fàxíng", 
                cnExplain: "头发的样式", 
                en: "hairstyle", 
                ru: "прическа" 
            },
            "折断": { 
                pinyin: "zhéduàn", 
                cnExplain: "因受力而断裂", 
                en: "break; snap", 
                ru: "ломать; ломаться" 
            }
        };

        // 二、字体大小控制（确保正常生效）
        const body = document.body;
        const fontSmall = document.getElementById('font-small');
        const fontNormal = document.getElementById('font-normal');
        const fontLarge = document.getElementById('font-large');
        let currentFontSize = 16;

        function updateFontSize() {
            body.style.fontSize = `${currentFontSize}px`;
        }

        fontLarge.addEventListener('click', () => {
            if (currentFontSize < 24) {
                currentFontSize += 2;
                updateFontSize();
            }
        });

        fontSmall.addEventListener('click', () => {
            if (currentFontSize > 12) {
                currentFontSize -= 2;
                updateFontSize();
            }
        });

        fontNormal.addEventListener('click', () => {
            currentFontSize = 16;
            updateFontSize();
        });

        // 初始化字体
        updateFontSize();

        // 三、词汇弹窗控制
        const vocabElements = document.querySelectorAll('.vocab');
        const vocabPopup = document.getElementById('vocab-popup');
        const vocabOverlay = document.getElementById('vocab-overlay');
        const vocabClose = document.getElementById('vocab-close');
        const vocabName = document.getElementById('vocabName');
        const vocabPinyin = document.getElementById('vocabPinyin');
        const vocabCnExplain = document.getElementById('vocabCnExplain');
        const vocabEn = document.getElementById('vocabEn');
        const vocabRu = document.getElementById('vocabRu');

        vocabElements.forEach(element => {
            element.addEventListener('click', function() {
                const word = this.getAttribute('data-word');
                const data = vocabData[word];
                if (data) {
                    vocabName.textContent = word;
                    vocabPinyin.textContent = data.pinyin;
                    vocabCnExplain.textContent = data.cnExplain;
                    vocabEn.textContent = data.en;
                    vocabRu.textContent = data.ru;
                    vocabPopup.style.display = 'block';
                    vocabOverlay.style.display = 'block';
                }
            });
        });

        function closePopup() {
            vocabPopup.style.display = 'none';
            vocabOverlay.style.display = 'none';
        }

        vocabClose.addEventListener('click', closePopup);
        vocabOverlay.addEventListener('click', closePopup);

        // 四、习题互动逻辑（确保提交正常）
        const correctAnswers = {
            fill: [
                { correct: ['100'], tips: '正确答案：100' },
                { correct: ['12'], tips: '正确答案：12' },
                { correct: ['45'], tips: '正确答案：45' },
                { correct: ['3'], tips: '正确答案：3' },
                { correct: ['55'], tips: '正确答案：55' },
                { correct: ['50'], tips: '正确答案：50' },
                { correct: ['40'], tips: '正确答案：40' }
            ]
        };

        const submitBtn = document.getElementById('submit-btn');
        const result = document.getElementById('result');
        const scoreEl = document.getElementById('score');
        const answerDetails = document.getElementById('answer-details');

        submitBtn.addEventListener('click', () => {
            let totalScore = 0;
            const totalQuestions = 7; // 7道填空题，每题1分
            let detailsHtml = '';

            // 处理填空题
            let fillScore = 0;
            detailsHtml += '<h4 style="margin:15px 0;">填空题 正确答案：</h4>';
            for (let i = 0; i < 7; i++) {
                const inputEl = document.getElementById(`fill-${i+1}`);
                const userAnswer = inputEl.value.trim().replace(/\s+/g, '');
                const { correct, tips } = correctAnswers.fill[i];
                const isCorrect = correct.some(ans => ans === userAnswer);

                detailsHtml += `<div class="answer-item">第${i+1}题：${tips}`;
                if (isCorrect) {
                    fillScore++;
                    detailsHtml += `（你的答案：${userAnswer}，正确，得1分）</div>`;
                } else if (userAnswer === '') {
                    detailsHtml += `（未作答，不得分）</div>`;
                } else {
                    detailsHtml += `（你的答案：${userAnswer}，不正确，不得分）</div>`;
                }
                // 显示正确答案到题目旁
                document.getElementById(`fill-${i+1}-ans`).textContent = `→ ${tips}`;
            }

            // 计算总分并显示
            totalScore = fillScore;
            scoreEl.textContent = `你的总得分：${totalScore}/${totalQuestions} 分`;
            answerDetails.innerHTML = detailsHtml;
            result.style.display = 'block';

            // 滚动到结果区域
            result.scrollIntoView({ behavior: 'smooth', block: 'start' });
        });
    </script>
</body>
</html>
